
Правила конвертации значений в зависимости от значения поля message_type:
+ message-chat -> text
+ message-image -> image
+ file-video -> video
message-vcard -> contact
message-location -> location
message-ppt -> voice
+ Все остальные значения маппируеются в document -> message-undefined, file-ppt, file-ppt, file-xls, file-xlsx, file-doc, file-docx, file-pdf, file-zip, file-xml и др.

// Текст
{
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:19:24.076Z",
    "reverse_date": "2020-08-17T14:19:24.076Z",
    "message_id": 178,
    "message_data": [
      {
        "message_id": 178,
        "message_route": "inbox",
        "message_type": "message-chat",
        "message_text": "Тест",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": null,
        "add_date": "2020-08-17 20:19:22"
      }
    ]
  }

  // Картинка
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:25:16.096Z",
    "reverse_date": "2020-08-17T14:25:16.096Z",
    "message_id": 180,
    "message_data": [
      {
        "message_id": 180,
        "message_route": "inbox",
        "message_type": "message-image",
        "message_text": "Тест",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": "/wp-content/uploads/0v2/4593_aNDU5MyomXj/79057229701_bNzkwNTcyMj/202008_cMjAyMDA4Ki/c31698cdc0_IMG-20200817-WA0000.jpg",
        "add_date": "2020-08-17 20:25:14"
      }
    ]
  }

  // Контакт
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:26:38.621Z",
    "reverse_date": "2020-08-17T14:26:38.621Z",
    "message_id": 181,
    "message_data": [
      {
        "message_id": 181,
        "message_route": "inbox",
        "message_type": "message-vcard",
        "message_text": "\nN:Шамин;Андрей\nFN:Андрей Шамин\nORG:SLONBOOK;\nTEL;TYPE=HOME;WAID=79057229701:+7 905 722-97-01\nEMAIL;TYPE=INTERNET:andrew.shamin@gmail.com\nX-AB-LABEL:эл. почта\nX-AB-LABEL:_$!<HomePage>!$_\nURL:https://slonbook.com\n",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": null,
        "add_date": "2020-08-17 20:26:38"
      }
    ]
  }

  // Видео
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:27:28.426Z",
    "reverse_date": "2020-08-17T14:27:28.426Z",
    "message_id": 182,
    "message_data": [
      {
        "message_id": 182,
        "message_route": "inbox",
        "message_type": "file-video",
        "message_text": "Видео тест",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": "/wp-content/uploads/0v2/4593_aNDU5MyomXj/79057229701_bNzkwNTcyMj/202008_cMjAyMDA4Ki/d23d3e02a8_VID-20200817-WA0001.mp4",
        "add_date": "2020-08-17 20:27:26"
      }
    ]
  }

    // Документ - pdf
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:28:12.508Z",
    "reverse_date": "2020-08-17T14:28:12.508Z",
    "message_id": 183,
    "message_data": [
      {
        "message_id": 183,
        "message_route": "inbox",
        "message_type": "file-pdf",
        "message_text": "SLONBOOK KZ ENG 2019",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": "/wp-content/uploads/0v2/4593_aNDU5MyomXj/79057229701_bNzkwNTcyMj/202008_cMjAyMDA4Ki/522cf1510b_SLONBOOK%20KZ%20ENG%202019.pdf",
        "add_date": "2020-08-17 20:28:11"
      }
    ]
  }

  // Документ - zip
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:29:34.647Z",
    "reverse_date": "2020-08-17T14:29:34.647Z",
    "message_id": 184,
    "message_data": [
      {
        "message_id": 184,
        "message_route": "inbox",
        "message_type": "file-zip",
        "message_text": "Долгушин Юрий. Генератор чудес - royallib.com.txt",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": "/wp-content/uploads/0v2/4593_aNDU5MyomXj/79057229701_bNzkwNTcyMj/202008_cMjAyMDA4Ki/344ec75722_%D0%94%D0%BE%D0%BB%D0%B3%D1%83%D1%88%D0%B8%D0%BD%20%D0%AE%D1%80%D0%B8%D0%B8%CC%86.%20%D0%93%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%20%D1%87%D1%83%D0%B4%D0%B5%D1%81%20-%20royallib.com.txt.zip",
        "add_date": "2020-08-17 20:29:32"
      }
    ]
  }

  // Документ - произвольный
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:30:06.167Z",
    "reverse_date": "2020-08-17T14:30:06.167Z",
    "message_id": 185,
    "message_data": [
      {
        "message_id": 185,
        "message_route": "inbox",
        "message_type": "file-doc",
        "message_text": "AppealsDataModel",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": "/wp-content/uploads/0v2/4593_aNDU5MyomXj/79057229701_bNzkwNTcyMj/202008_cMjAyMDA4Ki/ab69b93f2d_AppealsDataModel.sqlite-shm",
        "add_date": "2020-08-17 20:30:05"
      }
    ]
  }

  // Документ - docx
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:32:42.313Z",
    "reverse_date": "2020-08-17T14:32:42.313Z",
    "message_id": 187,
    "message_data": [
      {
        "message_id": 187,
        "message_route": "inbox",
        "message_type": "file-docx",
        "message_text": "Интеграция amoCRM и Sonline.docx",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": "/wp-content/uploads/0v2/4593_aNDU5MyomXj/79057229701_bNzkwNTcyMj/202008_cMjAyMDA4Ki/95d3db5efd_%D0%98%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D1%8F%20amoCRM%20%D0%B8%20Sonline.docx",
        "add_date": "2020-08-17 20:32:41"
      }
    ]
  }

  // Документ - xlsx
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:37:32.298Z",
    "reverse_date": "2020-08-17T14:37:32.298Z",
    "message_id": 190,
    "message_data": [
      {
        "message_id": 190,
        "message_route": "inbox",
        "message_type": "file-xlsx",
        "message_text": "test123.xlsx",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": "/wp-content/uploads/0v2/4593_aNDU5MyomXj/79057229701_bNzkwNTcyMj/202008_cMjAyMDA4Ki/c86bea02d0_test123.xlsx",
        "add_date": "2020-08-17 20:37:30"
      }
    ]
  }

  // Геопозиция
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:38:53.471Z",
    "reverse_date": "2020-08-17T14:38:53.471Z",
    "message_id": 191,
    "message_data": [
      {
        "message_id": 191,
        "message_route": "inbox",
        "message_type": "message-location",
        "message_text": "https://maps.google.com/maps?q=55.7986,37.412&z=17&hl=ru",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": null,
        "add_date": "2020-08-17 20:38:53"
      }
    ]
  }

  // Голосовое сообщение
  {
    "phone": "79057229701",
    "phone_number": "77058376772",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 1130,
    "user_id": 4593,
    "add_date": "2020-08-17T14:45:45.534Z",
    "reverse_date": "2020-08-17T14:45:45.534Z",
    "message_id": 196,
    "message_data": [
      {
        "message_id": 196,
        "message_route": "inbox",
        "message_type": "message-ppt",
        "message_text": "",
        "message_quoted": null,
        "phone": "79057229701",
        "file_url": "/wp-content/uploads/0v2/4593_aNDU5MyomXj/79057229701_bNzkwNTcyMj/202008_cMjAyMDA4Ki/f7871e7c73_PTT-20200817-WA0002.mp3",
        "add_date": "2020-08-17 20:45:44"
      }
    ]
  }

  // Файл неизвестного содержания - message-undefined
  // message-undefined помечаются все типы входящих сообщений, которые не удалось распознать
{
    "phone": "77077770077",
    "phone_number": "77473555126",
    "callback_status": "new_inbox_message",
    "transport": "whatsapp",
    "phone_id": 141,
    "user_id": 65,
    "add_date": "2020-08-03T12:38:02.527Z",
    "reverse_date": "2020-08-03T12:38:02.528Z",
    "message_id": 1874508,
    "message_data": [
        {
            "message_id": 1874508,
            "message_route": "inbox",
            "message_type": "message-undefined",
            "message_text": "adguardInstaller.exe",
            "message_quoted": null,
            "phone": "77077770077",
            "file_url": "/wp-content/uploads/0v2/65_aNjUqJl40M2/77077770077_bNzcwNTc0NT/202008_cMjAyMDA4Ki/88b567568f_adguardInstaller.exe",
            "add_date": "2020-08-03 18:38:01"
        }
    ]
}


// Номер, который написал, - новый, не был в списке контактов ранее в аккаунте
{
    "phone": "77077770077",
    "phone_number": "77473555126",
    "callback_status": "new_subscriber",
    "transport": "whatsapp",
    "phone_id": 141,
    "user_id": 65,
    "add_date": "2020-08-03T12:41:37.005Z",
    "reverse_date": "2020-08-03T12:41:37.005Z"
}


